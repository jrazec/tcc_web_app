<div class="table-responsive">
    <table class="table align-middle table-bordered table-dark table-hover ">
        <thead>
            <tr>
                <th scope="col" class="table-light"  style="width:10%">ID</th>
                <th scope="col" class="table-light"  style="width:20%">NAME</th>
                <th scope="col" class="table-light"  style="width:30%">DESCRIPTION</th>
                <th scope="col" class="table-light"  style="width:10%">IMAGE</th>
                <th scope="col" class="table-light"  style="width:10%">COORDINATE</th>
                <th scope="col" class="table-light"  style="width: 5%">Edit</th>
                <th scope="col" class="table-light"  style="width: 5%">Delete</th>
            </tr>
        </thead>
        <tbody>
            <% if (npcDesigTable.error !== "error") {  %>
                <% for (let i = 0; i < npcDesigTable.length; i++ ) {%>
                    <tr>
                        <td>
                            <%= String(npcDesigTable[i].npc_id) %>
                        </td>
                        <td>
                            <%= String(npcDesigTable[i].npc_name)  %>
                        </td>
                        <td>
                            <%= String(npcDesigTable[i].npc_description)  %>
                        </td>
                        <td>
                            <%= String(npcDesigTable[i].npc_image)  %>
                        </td>
                        <td>
                            <%= String(npcDesigTable[i].coordinate)  %>
                        </td>   
                        
                        <td class="update-btn text-center" ><div id="<%= String(npcDesigTable[i].npc_id) %>" style="cursor: pointer;"><a href="/admin/setup/npc/edit/<%= String(npcDesigTable[i].npc_id) %>" style="text-decoration: none; ">üìù</a></div></td> 
                        <td class="delete-btn text-center" ><div id="<%= String(npcDesigTable[i].npc_id) %>" style="cursor: pointer;"><a href="/admin/setup/npc/delete/<%= String(npcDesigTable[i].npc_id) %>" style="text-decoration: none;">üóëÔ∏è</a></div></td>   
                    </tr>     
                <% } %>
            <% } else { %> 
                <td colspan="8" class="table-danger text-center" >There is an error occured in the database. Please contact the developers.</td> 
            <% } %>
        </tbody>
    </table>

</div>

<script>
    const updateBtns = document.querySelectorAll(`.update-btn`);
    const deleteBtns = document.querySelectorAll(`.delete-btn`);

    updateBtns.forEach((button)=>{
        button.addEventListener('click',(e)=>{
             id = e.target.id;// id here is the class name of the edit button, also the id of primary key
             npcIdHead.textContent = id; // NPC header is the header of update  
             window.location.href = `/admin/setup/npc/${id}`;
            // Will store the id of the button which corresponds to the primary key
            // So there should be a universal variable that corresponds to the id; once a button is clicked, will send update request.
            console.log(id)
        });
    });
        
</script>